<!DOCTYPE html>
<html>
<head>
    <title>YouTube Playlist Editor</title>
    <style>
        /* Basic styling */
        body { font-family: Arial, sans-serif; margin: 20px; }
        #playlist { margin-bottom: 20px; }
        .video { margin-bottom: 10px; }
        .video-title { font-weight: bold; }
    </style>
</head>
<body>
    <h1>YouTube Playlist Editor</h1>
    <div id="playlist"></div>
    <h2>Add Video</h2>
    <input type="text" id="videoTitle" placeholder="Video Title">
    <input type="text" id="videoID" placeholder="Video ID">
    <button onclick="addVideo()">Add Video</button>
    <button onclick="savePage()">Save</button>

    <script>
        // Initialize playlist with sample data
        var playlist = [
            { title: 'Sample Video 1', id: 'dQw4w9WgXcQ' },
            { title: 'Sample Video 2', id: '9bZkp7q19f0' }
        ];

        // Function to render the playlist
        function renderPlaylist() {
            var playlistDiv = document.getElementById("playlist");
            playlistDiv.innerHTML = "";
            playlist.forEach(function(video, index) {
                var videoDiv = document.createElement("div");
                videoDiv.className = "video";
                videoDiv.innerHTML = '<span class="video-title">' + video.title + '</span> ' +
                    '(<a href="https://www.youtube.com/watch?v=' + video.id + '" target="_blank">Watch</a>) ' +
                    '<button onclick="removeVideo(' + index + ')">Remove</button>';
                playlistDiv.appendChild(videoDiv);
            });
        }

        // Function to add a video to the playlist
        function addVideo() {
            var title = document.getElementById("videoTitle").value;
            var id = document.getElementById("videoID").value;
            if (title && id) {
                playlist.push({ title: title, id: id });
                renderPlaylist();
                document.getElementById("videoTitle").value = "";
                document.getElementById("videoID").value = "";
            } else {
                alert("Please enter both title and video ID.");
            }
        }

        // Function to remove a video from the playlist
        function removeVideo(index) {
            playlist.splice(index, 1);
            renderPlaylist();
        }

        // Function to save the page with the updated playlist
        function savePage() {
            // Generate the entire HTML content as a string
            var htmlContent = '<!DOCTYPE html>\n' +
'<html>\n' +
'<head>\n' +
'    <title>YouTube Playlist Editor</title>\n' +
'    <style>\n' +
'        body { font-family: Arial, sans-serif; margin: 20px; }\n' +
'        #playlist { margin-bottom: 20px; }\n' +
'        .video { margin-bottom: 10px; }\n' +
'        .video-title { font-weight: bold; }\n' +
'    </style>\n' +
'</head>\n' +
'<body>\n' +
'    <h1>YouTube Playlist Editor</h1>\n' +
'    <div id="playlist"></div>\n' +
'    <h2>Add Video</h2>\n' +
'    <input type="text" id="videoTitle" placeholder="Video Title">\n' +
'    <input type="text" id="videoID" placeholder="Video ID">\n' +
'    <button onclick="addVideo()">Add Video</button>\n' +
'    <button onclick="savePage()">Save</button>\n' +
'    <script>\n' +
'        var playlist = ' + JSON.stringify(playlist, null, 4) + ';\n' +
'\n' +
'        function renderPlaylist() {\n' +
'            var playlistDiv = document.getElementById("playlist");\n' +
'            playlistDiv.innerHTML = "";\n' +
'            playlist.forEach(function(video, index) {\n' +
'                var videoDiv = document.createElement("div");\n' +
'                videoDiv.className = "video";\n' +
'                videoDiv.innerHTML = \'<span class="video-title">\' + video.title + \'</span> \' +\n' +
'                    \'(<a href="https://www.youtube.com/watch?v=\' + video.id + \'" target="_blank">Watch</a>) \' +\n' +
'                    \'<button onclick="removeVideo(\' + index + \')">Remove</button>\';\n' +
'                playlistDiv.appendChild(videoDiv);\n' +
'            });\n' +
'        }\n' +
'\n' +
'        function addVideo() {\n' +
'            var title = document.getElementById("videoTitle").value;\n' +
'            var id = document.getElementById("videoID").value;\n' +
'            if (title && id) {\n' +
'                playlist.push({ title: title, id: id });\n' +
'                renderPlaylist();\n' +
'                document.getElementById("videoTitle").value = "";\n' +
'                document.getElementById("videoID").value = "";\n' +
'            } else {\n' +
'                alert("Please enter both title and video ID.");\n' +
'            }\n' +
'        }\n' +
'\n' +
'        function removeVideo(index) {\n' +
'            playlist.splice(index, 1);\n' +
'            renderPlaylist();\n' +
'        }\n' +
'\n' +
'        function savePage() {\n' +
'            // Same savePage function code\n' +
'            alert("Please use the already downloaded file to save.");\n' +
'        }\n' +
'\n' +
'        renderPlaylist();\n' +
'    </' + 'script>\n' +
'</body>\n' +
'</html>';

            // Create a blob of the HTML content
            var blob = new Blob([htmlContent], { type: 'text/html' });
            var a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = 'playlist.html';
            a.click();
        }

        // Initial rendering of the playlist
        renderPlaylist();
    </script>
</body>
</html>
